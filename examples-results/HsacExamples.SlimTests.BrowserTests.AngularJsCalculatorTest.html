<html><head><title>HsacExamples.SlimTests.BrowserTests.AngularJsCalculatorTest</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>HsacExamples.SlimTests.BrowserTests.AngularJsCalculatorTest</h2></header><article><br/>Sample test on <a href="https://angularjs.org/">AngularJs</a> application finding elements based on their Angular binding or model. <br/>Inspired by <a href="http://anthonychu.ca/post/end-to-end-testing-angular-apps-with-nunit-and-specflow-using-protractornet/">http://anthonychu.ca/post/end-to-end-testing-angular-apps-with-nunit-and-specflow-using-protractornet/</a><br/><br/><p class="note"><b>Please note:</b> The application used in this test does NOT seem to work with PhantomJs. It does work when executed with Chrome or Firefox.</p><br/><table>
	<tr>
		<td>table template</td>
		<td colspan="3">add</td>
	</tr>
	<tr>
		<td>enter</td>
		<td>@{first}</td>
		<td>as</td>
		<td>first</td>
	</tr>
	<tr>
		<td>enter</td>
		<td>@{second}</td>
		<td>as</td>
		<td>second</td>
	</tr>
	<tr>
		<td>select</td>
		<td>+</td>
		<td>for</td>
		<td>operator</td>
	</tr>
	<tr>
		<td>click</td>
		<td colspan="3">Go!</td>
	</tr>
	<tr>
		<td>$result=</td>
		<td>value of</td>
		<td colspan="2">latest</td>
	</tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">Ng Browser Test</span></td>
	</tr>
	<tr class="slimRowColor4">
		<td><span class="pass">open</span></td>
		<td><a href="http://juliemr.github.io/protractor-demo/">http://juliemr.github.io/protractor-demo/</a></td>
	</tr>
</table>
<br/><br/><table>
	<tr>
		<td colspan="3">add</td>
	</tr>
	<tr>
		<td>first</td>
		<td>second</td>
		<td>result?</td>
	</tr>
	<tr class="scenario closed">
		<td>1</td>
		<td>2</td>
		<td><span class="pass">3</span></td>
	</tr><tr class="scenario-detail closed-detail"><td colspan="3"><table>
	<tr>
		<td>table template</td>
		<td colspan="3">add</td>
	</tr>
	<tr>
		<td><span class="pass">enter</span></td>
		<td>1</td>
		<td>as</td>
		<td>first</td>
	</tr>
	<tr>
		<td><span class="pass">enter</span></td>
		<td>2</td>
		<td>as</td>
		<td>second</td>
	</tr>
	<tr>
		<td><span class="pass">select</span></td>
		<td>+</td>
		<td>for</td>
		<td>operator</td>
	</tr>
	<tr>
		<td><span class="pass">click</span></td>
		<td colspan="3">Go!</td>
	</tr>
	<tr>
		<td>$result&lt;-[3]</td>
		<td>value of</td>
		<td colspan="2">latest</td>
	</tr>
</table></td></tr>
	<tr class="scenario closed">
		<td class="error">3</td>
		<td class="error">4</td>
		<td class="error">[<span class="diff">NaN</span>] <span class="fail">expected [</span><span class="diff">7</span><span class="fail">]</span></td>
	</tr><tr class="scenario-detail closed-detail"><td colspan="3"><table>
	<tr>
		<td>table template</td>
		<td colspan="3">add</td>
	</tr>
	<tr>
		<td><span class="pass">enter</span></td>
		<td>3</td>
		<td>as</td>
		<td>first</td>
	</tr>
	<tr>
		<td>enter <span class="error"><div><div>org.openqa.selenium.remote.UnreachableBrowserException: Error communicating with the remote browser. It may have died.<br/>Build info: version: '2.53.1', revision: 'a36b8b1cd5757287168e54b817830adce9b0158d', time: '2016-06-30 19:26:09'<br/>System info: host: 'testing-docker-16bdec8c-f471-483c-ba31-51d7ca110ff3', ip: '172.17.0.9', os.name: 'Linux', os.arch: 'amd64', os.version: '4.8.12-040812-generic', java.version: '1.7.0_76'<br/>Driver info: driver.version: RemoteWebDriver<br/>Session ID: 6d1bb600a0d04b888bc43268d1fc82a1<br/>Capabilities [{platform=XP, javascriptEnabled=true, acceptSslCerts=true, hasMetadata=true, browserName=chrome, chrome={userDataDir=C:\Users\ADMINI~1\AppData\Local\Temp\scoped_dir1872_22918, chromedriverVersion=2.24.417431 (9aea000394714d2fbb20850021f6204f2256b9cf)}, networkConnectionEnabled=false, rotatable=false, mobileEmulationEnabled=false, locationContextEnabled=true, webdriver.remote.sessionid=6d1bb600a0d04b888bc43268d1fc82a1, version=55.0.2883.75, pageLoadStrategy=normal, takesHeapSnapshot=true, cssSelectorsEnabled=true, databaseEnabled=false, handlesAlerts=true, browserConnectionEnabled=false, webStorageEnabled=true, nativeEvents=true, hasTouchScreen=false, applicationCacheEnabled=false, takesScreenshot=true}]<br/>	at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:665)<br/>	at org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:327)<br/>	at org.openqa.selenium.remote.RemoteWebElement.sendKeys(RemoteWebElement.java:122)<br/>	at nl.hsac.fitnesse.fixture.slim.web.BrowserTest.sendValue(BrowserTest.java:598)<br/>	at nl.hsac.fitnesse.fixture.slim.web.NgBrowserTest.enterAs(NgBrowserTest.java:191)<br/>	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br/>	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)<br/>	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)<br/>	at java.lang.reflect.Method.invoke(Method.java:606)<br/>	at fitnesse.slim.fixtureInteraction.DefaultInteraction.methodInvoke(DefaultInteraction.java:147)<br/>	at nl.hsac.fitnesse.fixture.slim.SlimFixture.invoke(SlimFixture.java:50)<br/>	at nl.hsac.fitnesse.fixture.slim.web.BrowserTest.superInvoke(BrowserTest.java:105)<br/>	at nl.hsac.fitnesse.fixture.slim.web.BrowserTest$1.apply(BrowserTest.java:69)<br/>	at nl.hsac.fitnesse.fixture.slim.web.BrowserTest$1.apply(BrowserTest.java:65)<br/>	at nl.hsac.fitnesse.fixture.util.selenium.TryAllFramesConditionDecorator.apply(TryAllFramesConditionDecorator.java:34)<br/>	at nl.hsac.fitnesse.fixture.util.selenium.TryAllFramesConditionDecorator.apply(TryAllFramesConditionDecorator.java:16)<br/>	at nl.hsac.fitnesse.fixture.util.selenium.SeleniumHelper$2.apply(SeleniumHelper.java:956)<br/>	at nl.hsac.fitnesse.fixture.util.selenium.SeleniumHelper$2.apply(SeleniumHelper.java:952)<br/>	at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:238)<br/>	at nl.hsac.fitnesse.fixture.util.selenium.SeleniumHelper.waitUntil(SeleniumHelper.java:941)<br/>	at nl.hsac.fitnesse.fixture.slim.web.BrowserTest.waitUntilImpl(BrowserTest.java:1733)<br/>	at nl.hsac.fitnesse.fixture.slim.web.BrowserTest.waitUntil(BrowserTest.java:1663)<br/>	at nl.hsac.fitnesse.fixture.slim.web.BrowserTest.invokedWrappedInWaitUntil(BrowserTest.java:98)<br/>	at nl.hsac.fitnesse.fixture.slim.web.BrowserTest.invoke(BrowserTest.java:59)<br/>	at nl.hsac.fitnesse.fixture.slim.SlimFixture.aroundSlimInvoke(SlimFixture.java:30)<br/>	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br/>	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)<br/>	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)<br/>	at java.lang.reflect.Method.invoke(Method.java:606)<br/>	at fitnesse.slim.fixtureInteraction.DefaultInteraction.methodInvoke(DefaultInteraction.java:147)<br/>	at fitnesse.slim.fixtureInteraction.DefaultInteraction.callMethod(DefaultInteraction.java:130)<br/>	at fitnesse.slim.fixtureInteraction.DefaultInteraction.invokeMethod(DefaultInteraction.java:114)<br/>	at fitnesse.slim.fixtureInteraction.DefaultInteraction.findAndInvoke(DefaultInteraction.java:92)<br/>	at fitnesse.slim.MethodExecutor.findAndInvoke(MethodExecutor.java:18)<br/>	at fitnesse.slim.FixtureMethodExecutor.execute(FixtureMethodExecutor.java:18)<br/>	at fitnesse.slim.StatementExecutor.getMethodExecutionResult(StatementExecutor.java:130)<br/>	at fitnesse.slim.StatementExecutor.call(StatementExecutor.java:103)<br/>	at fitnesse.slim.instructions.CallInstruction.executeInternal(CallInstruction.java:35)<br/>	at fitnesse.slim.instructions.Instruction.execute(Instruction.java:29)<br/>	at fitnesse.slim.ListExecutor$Executive.executeStatement(ListExecutor.java:49)<br/>	at fitnesse.slim.ListExecutor$Executive.executeStatements(ListExecutor.java:43)<br/>	at fitnesse.slim.ListExecutor.execute(ListExecutor.java:85)<br/>	at fitnesse.slim.SlimServer.executeInstructions(SlimServer.java:82)<br/>	at fitnesse.slim.SlimServer.processOneSetOfInstructions(SlimServer.java:75)<br/>	at fitnesse.slim.SlimServer.tryProcessInstructions(SlimServer.java:62)<br/>	at fitnesse.slim.SlimServer.serve(SlimServer.java:47)<br/>	at fitnesse.testsystems.slim.InProcessSlimClient$1.run(InProcessSlimClient.java:53)<br/>	at java.lang.Thread.run(Thread.java:745)<br/>Caused by: java.net.SocketException: Connection reset<br/>	at java.net.SocketInputStream.read(SocketInputStream.java:196)<br/>	at java.net.SocketInputStream.read(SocketInputStream.java:122)<br/>	at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:139)<br/>	at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:155)<br/>	at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:284)<br/>	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:140)<br/>	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:57)<br/>	at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:261)<br/>	at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:165)<br/>	at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:167)<br/>	at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:272)<br/>	at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:124)<br/>	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:271)<br/>	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)<br/>	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)<br/>	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)<br/>	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)<br/>	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)<br/>	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)<br/>	at org.openqa.selenium.remote.internal.ApacheHttpClient.fallBackExecute(ApacheHttpClient.java:144)<br/>	at org.openqa.selenium.remote.internal.ApacheHttpClient.execute(ApacheHttpClient.java:90)<br/>	at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:142)<br/>	at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:644)<br/>	... 47 more<br/>.</div><div><a href="files/pagesources/org.openqa.selenium.remote.UnreachableBrowserException.HTML">Page content</a>:<a href="files/screenshots/exception.png"><img src="files/screenshots/exception.png" title="/home/travis/build/fhoeben/hsac-fitnesse-fixtures/target/fitnesse-results/files/screenshots/exception.png" height="200"/></a></div></div></span></td>
		<td>4</td>
		<td>as</td>
		<td>second</td>
	</tr>
	<tr>
		<td><span class="pass">select</span></td>
		<td>+</td>
		<td>for</td>
		<td>operator</td>
	</tr>
	<tr>
		<td><span class="pass">click</span></td>
		<td colspan="3">Go!</td>
	</tr>
	<tr>
		<td>$result&lt;-[NaN]</td>
		<td>value of</td>
		<td colspan="2">latest</td>
	</tr>
</table></td></tr>
</table>
<br/>Now let's see what we can do with the repeater 'result in memory'.<br/><br/><table>
	<tr class="slimRowTitle">
		<td colspan="9">script</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>number of</td>
		<td>result in memory</td>
		<td colspan="6"><span class="pass">2</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>value of</td>
		<td>Result</td>
		<td>in row number</td>
		<td>1</td>
		<td>of</td>
		<td>result in memory</td>
		<td colspan="2">[<span class="diff">NaN</span>] <span class="fail">expected [</span><span class="diff">7</span><span class="fail">]</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>value of column number</td>
		<td>3</td>
		<td>in row number</td>
		<td>1</td>
		<td>of</td>
		<td>result in memory</td>
		<td colspan="2">[<span class="diff">NaN</span>] <span class="fail">expected [</span><span class="diff">7</span><span class="fail">]</span></td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td>value of</td>
		<td>Time</td>
		<td>in row where</td>
		<td>Result</td>
		<td>is</td>
		<td>3</td>
		<td>of</td>
		<td>result in memory</td>
	<td>3:42:35 PM</td></tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td>take screenshot</td>
		<td colspan="7">2additions</td>
	<td><a href="files/screenshots/2additions.png"><img src="files/screenshots/2additions.png" title="/home/travis/build/fhoeben/hsac-fitnesse-fixtures/target/fitnesse-results/files/screenshots/2additions.png" height="200"/></a></td></tr>
</table>
<br/>We can not only enter values based on their model, but also retrieve their values.<br/><br/><table>
	<tr>
		<td>table template</td>
		<td colspan="3">divide</td>
	</tr>
	<tr>
		<td>enter</td>
		<td>@{numerator}</td>
		<td>as</td>
		<td>first</td>
	</tr>
	<tr>
		<td>check</td>
		<td>value of</td>
		<td>first</td>
		<td>@{numerator}</td>
	</tr>
	<tr>
		<td>enter</td>
		<td>@{divisor}</td>
		<td>as</td>
		<td>second</td>
	</tr>
	<tr>
		<td>select</td>
		<td>/</td>
		<td>for</td>
		<td>operator</td>
	</tr>
	<tr>
		<td>check</td>
		<td>value of</td>
		<td>operator</td>
		<td>/</td>
	</tr>
	<tr>
		<td>click</td>
		<td colspan="3">Go!</td>
	</tr>
	<tr>
		<td>$quotient=</td>
		<td>value of</td>
		<td colspan="2">latest</td>
	</tr>
</table>
<br/><table>
	<tr>
		<td colspan="3">divide</td>
	</tr>
	<tr>
		<td>numerator</td>
		<td>divisor</td>
		<td>quotient?</td>
	</tr>
	<tr class="scenario closed">
		<td>10</td>
		<td>2</td>
		<td><span class="pass">5</span></td>
	</tr><tr class="scenario-detail closed-detail"><td colspan="3"><table>
	<tr>
		<td>table template</td>
		<td colspan="3">divide</td>
	</tr>
	<tr>
		<td><span class="pass">enter</span></td>
		<td>10</td>
		<td>as</td>
		<td>first</td>
	</tr>
	<tr>
		<td>check</td>
		<td>value of</td>
		<td>first</td>
		<td><span class="pass">10</span></td>
	</tr>
	<tr>
		<td><span class="pass">enter</span></td>
		<td>2</td>
		<td>as</td>
		<td>second</td>
	</tr>
	<tr>
		<td><span class="pass">select</span></td>
		<td>/</td>
		<td>for</td>
		<td>operator</td>
	</tr>
	<tr>
		<td>check</td>
		<td>value of</td>
		<td>operator</td>
		<td><span class="pass">/</span></td>
	</tr>
	<tr>
		<td><span class="pass">click</span></td>
		<td colspan="3">Go!</td>
	</tr>
	<tr>
		<td>$quotient&lt;-[5]</td>
		<td>value of</td>
		<td colspan="2">latest</td>
	</tr>
</table></td></tr>
	<tr class="scenario closed">
		<td>9</td>
		<td>3</td>
		<td><span class="pass">3</span></td>
	</tr><tr class="scenario-detail closed-detail"><td colspan="3"><table>
	<tr>
		<td>table template</td>
		<td colspan="3">divide</td>
	</tr>
	<tr>
		<td><span class="pass">enter</span></td>
		<td>9</td>
		<td>as</td>
		<td>first</td>
	</tr>
	<tr>
		<td>check</td>
		<td>value of</td>
		<td>first</td>
		<td><span class="pass">9</span></td>
	</tr>
	<tr>
		<td><span class="pass">enter</span></td>
		<td>3</td>
		<td>as</td>
		<td>second</td>
	</tr>
	<tr>
		<td><span class="pass">select</span></td>
		<td>/</td>
		<td>for</td>
		<td>operator</td>
	</tr>
	<tr>
		<td>check</td>
		<td>value of</td>
		<td>operator</td>
		<td><span class="pass">/</span></td>
	</tr>
	<tr>
		<td><span class="pass">click</span></td>
		<td colspan="3">Go!</td>
	</tr>
	<tr>
		<td>$quotient&lt;-[3]</td>
		<td>value of</td>
		<td colspan="2">latest</td>
	</tr>
</table></td></tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td colspan="4">script</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>number of</td>
		<td>result in memory</td>
		<td><span class="pass">4</span></td>
	</tr>
</table>
</article></body></html>